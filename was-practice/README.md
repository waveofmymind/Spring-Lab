# WAS를 이용해 클라이언트의 응답 해결하기

## Step 1 - 요청 데이터 메인 쓰레드에서 동작시키기

클라이언트로부터의 요청을 메인 쓰레드 하나에서 동작 시킬경우, 여러개의 요청에 대해 메인 쓰레드가 순서대로 실행해야한다.

따라서 소요 시간이 오래 걸릴 수 있다.

## Step 2 - 요청마다 쓰레드를 새로 생성해서 수행하기

쓰레드 하나로 순차적으로 모든 요청을 처리하는 방법은 수행 시간이 오래 걸리므로 요청시마다 new Thread()로 쓰레드를 새로 생성해서 요청 데이터를 수행한다.

그러나 쓰레드는 생성시에 동적으로 메모리를 할당받으므로 비용이 매우 비싸며, 최악의 경우 요청 데이터가 많아지면 메모리 부하가 생겨 웹 서버가 다운될 수 있다.

## Step 3 - 쓰레드 풀을 이용해서 요청 데이터를 수행하기

웹 서버가 실행될 때 쓰레드 풀에 미리 정해둔 개수만큼의 쓰레드를 생성해놓고, 요청 데이터가 들어올 때 쓸 수 있는 쓰레드가 있는지 풀에서 확인 후 꺼내 사용한다.

이는 정해진 쓰레드로 모든 요청을 처리할 수 있기 때문에 서버 과부하를 방지할 수 있다.

그러나 요청 데이터가 쓰레드 풀의 개수보다 많을 경우 쓰레드가 락이 풀릴때까지 기다려야한다.
